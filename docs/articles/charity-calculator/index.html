<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Charity Calculator | Lucas Pauker</title>
<meta name="keywords" content="charity, modeling">
<meta name="description" content="With holiday season in full swing, people may be more enticed to give to charity. However, there is a question of how to optimize your charitable donations. Specifically, I would like to optimize charitable donations for maximum impact. It seems to me that there are two parts to this equation:
Which charity(ies)/cause(s) should I give to How much should I give? The answer to the first question is deeply personal, so I want to focus on the second question.">
<meta name="author" content="Lucas Pauker">
<link rel="canonical" href="https://lucaspauker.com/articles/charity-calculator/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.583299ed92beb6d4b9dc3b06ae47dbb8539f349d135b5c88394b12d0fc81f275.css" integrity="sha256-WDKZ7ZK&#43;ttS53DsGrkfbuFOfNJ0TW1yIOUsS0PyB8nU=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://lucaspauker.com/images/logo/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://lucaspauker.com/images/logo/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://lucaspauker.com/images/logo/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://lucaspauker.com/images/logo/apple-touch-icon.png">
<link rel="mask-icon" href="https://lucaspauker.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://lucaspauker.com/articles/charity-calculator/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-49CCEN1B6K"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-49CCEN1B6K', {
		'anonymize_ip':  false ,
		'cookie_flags': 'SameSite=None; Secure'
	});
</script><meta property="og:title" content="Charity Calculator" />
<meta property="og:description" content="With holiday season in full swing, people may be more enticed to give to charity. However, there is a question of how to optimize your charitable donations. Specifically, I would like to optimize charitable donations for maximum impact. It seems to me that there are two parts to this equation:
Which charity(ies)/cause(s) should I give to How much should I give? The answer to the first question is deeply personal, so I want to focus on the second question." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://lucaspauker.com/articles/charity-calculator/" /><meta property="og:image" content="https://lucaspauker.com/images/papermod-cover.png"/><meta property="article:section" content="articles" />
<meta property="article:published_time" content="2024-12-23T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-12-23T00:00:00+00:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://lucaspauker.com/images/papermod-cover.png"/>

<meta name="twitter:title" content="Charity Calculator"/>
<meta name="twitter:description" content="With holiday season in full swing, people may be more enticed to give to charity. However, there is a question of how to optimize your charitable donations. Specifically, I would like to optimize charitable donations for maximum impact. It seems to me that there are two parts to this equation:
Which charity(ies)/cause(s) should I give to How much should I give? The answer to the first question is deeply personal, so I want to focus on the second question."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Articles",
      "item": "https://lucaspauker.com/articles/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Charity Calculator",
      "item": "https://lucaspauker.com/articles/charity-calculator/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Charity Calculator",
  "name": "Charity Calculator",
  "description": "With holiday season in full swing, people may be more enticed to give to charity. However, there is a question of how to optimize your charitable donations. Specifically, I would like to optimize charitable donations for maximum impact. It seems to me that there are two parts to this equation:\nWhich charity(ies)/cause(s) should I give to How much should I give? The answer to the first question is deeply personal, so I want to focus on the second question.",
  "keywords": [
    "charity", "modeling"
  ],
  "articleBody": " With holiday season in full swing, people may be more enticed to give to charity. However, there is a question of how to optimize your charitable donations. Specifically, I would like to optimize charitable donations for maximum impact. It seems to me that there are two parts to this equation:\nWhich charity(ies)/cause(s) should I give to How much should I give? The answer to the first question is deeply personal, so I want to focus on the second question. A naive answer to this question might be to donate as much as you can. However, this actually might not be the right choice if you believe you can compound your money and donate more in the future. The other extreme is to compound your money until you die and donate it all then. However, there are people that need help now so this seems like a bad solution as well.\nI want to create a framework for deciding how much to give each year (based on some intuitive parameters).\nExisting frameworks for charitable giving Before diving into my framework, it is interesting to review some existing approaches to charitable giving, many of which are grounded in religious traditions.\nIn Jewish tradition, giving to charity, or tzedakah, is a core principle. The Torah emphasizes the importance of helping those in need, and many interpretations suggest donating approximately 10% of one’s income. This practice is often referred to as ma’aser kesafim (giving a tenth).\nIn Islam, Zakat is one of the Five Pillars, making charitable giving a fundamental religious duty. Muslims are generally required to donate 2.5% of their accumulated wealth (beyond basic needs) each year.\nWhile these frameworks provide clear guidelines, they tend to use a fixed percentage of wealth or income. This approach, while simple and effective, may overlook important considerations such as individual financial circumstances, the diminishing marginal utility of wealth, and the impact of time on charitable effectiveness.\nHere is a simulation of donating a fixed percentage of a portfolio that grows at a fixed rate plus income.\nConstant percentage calculator Initial Portfolio Value (V₀): $1000000 1K 1M Annual Portfolio Growth Rate (p%): 8% 0% 30% Annual Income Minus Expenses (iₜ): $0 0 1M % Donated: 5 0 100 Framework for optimizing donations Now we will build up a framework for understanding first how a portfolio evolves with donations and then how varying impact of individual donations can change how much to donate. The core idea of the framework is to balance immediate charitable impact with the future growth of wealth.\nJump to simulation 1\nJump to simulation 2\nInput variables Current/initial portfolio value: \\( V_0 \\) (your starting wealth) Life expectancy: \\( T \\) years (remaining years you expect to live) Annual portfolio growth rate: \\( p \\) (as a percentage) Desired wealth at death: \\( Y \\) (how much you want to leave behind, e.g., for family or legacy purposes) Yearly net income: \\( i_t \\) (your income after expenses in year \\( t \\)) Impact discount rate: \\( d \\) (percentage decrease in the effectiveness of charitable donations over time due to compounding issues like inflation, diminishing needs, etc.) Impact Function: \\( I(t) \\) (a function of time that determines the relative impact of donations in year \\( t \\); by definition, \\( \\sum_{t=1}^T I(t) = 1 \\) Output variable The yearly amount to donate: \\( d_t \\).\nBuilding the framework The model starts with the evolution of your wealth year over year. Here’s the basic equation:\n$$V_t = p \\ V_{t-1} + i_t - d_t$$\nWhere:\n\\( V_t \\) is your portfolio value at the end of year \\( t \\). \\( p \\ V_{t-1} \\) represents the growth of your wealth from investments. \\( i_t \\) is your net income for year \\( t \\). \\( d_t \\) is the amount you donate in year \\( t \\). We impose the terminal condition that you want to end with exactly your desired wealth \\( Y \\) at the end of your life (year \\( T \\)):\n$$ V_T = Y $$\nWe can work recursively to express \\( d_t \\) as a function of the input variables. Expanding the wealth equation step by step:\nStarting with year 1: $$ V_1 = p \\ V_0 + i_1 - d_1 $$\nFor year 2: $$ V_2 = p \\ V_1 + i_2 - d_2 $$ Substitute \\( V_1 \\): $$ V_2 = p \\ (p \\ V_0 + i_1 - d_1) + i_2 - d_2 $$\nGeneralizing this, and using the terminal condition \\( V_T = Y \\), the portfolio value at year \\( T \\) becomes:\n$$ V_T = Y = p^T \\ V_0 + \\sum_{t=1}^T p^{T-t} \\ i_t - \\sum_{t=1}^T p^{T-t} \\ d_t $$\nRearranging for the summation of donations \\( d_t \\): $$\\sum_{t=1}^T p^{T-t} \\ d_t = p^T \\ V_0 + \\sum_{t=1}^T p^{T-t} \\ i_t - Y = k $$ where \\(k\\) is a constant.\nNow, we have a constraint formula for donations as a function of the portfolio return rate, initial portfolio value, life expectancy, income, and desired end of life portfolio value. Now, we want to see which \\(d_t\\) are available. There are many \\(d_t\\) that satisfy the constraint above. One such function is $$ d_t = \\begin{cases} 0 \u0026 \\text{if } t \u003c T \\\\ p \\ V_{T-1} + i_T - Y \u0026 \\text{if } t = T \\end{cases} $$ This is just donating everything at the end of your life up to \\(Y\\). This is the way to maximize the total amount donated over your lifetime, assuming income and portfolio returns are positive. However, we do not necessarily want to do this because we want to balance the total amount donated with immediate impact.\nConstant percentage donations An intuitive way to determine donations is to use a constant percentage of our portfolio for donations. So we have \\(d_t=u \\ V_t\\) where \\(u\\) is the percent of our current portfolio to donate. We can determine \\(u\\) using our constraint equation, so we get $$\\sum_{t=1}^T p^{T-t} \\ d_t = \\sum_{t=1}^T p^{T-t}\\ u \\ V_t = u\\ \\sum_{t=1}^T p^{T-t} \\ V_t = k $$ so therefore $$u = \\frac{k}{ \\sum_{t=1}^T p^{T-t} \\ V_t} $$ and also $$V_t = \\frac{p \\ V_{t-1} + i_t}{1+u}$$\nWe can numerically solve for \\(u\\) but finding a closed form is hard due to \\(V_t\\) dependence on \\(u\\). Here is a simulation for finding the optimal fixed percentage based on the input variables.\nOptimal percentage calculator Initial portfolio value (V₀): $1000000 1K 1M Time horizon (T years): 10 1 50 Annual portfolio growth rate (p%): 8% 0% 30% Annual income minus expenses (iₜ): $0 0 500K Desired wealth at horizon (Y): $1000000 0 3M Optimal annual donation: 0 Including impact Jump to simulation 2\nIn reality, however, the personal impact of donations changes from year to year. This is because you would like to donate to causes that are important to you which can change. We will therefore try to maximize the net impact $$ U = \\sum_{t=1}^T {I(t)\\ d_t} $$\nIf \\(I(t)\\) is stochastic, then we are trying to maximize the expectation of \\(U\\). Let’s assume that \\(I(t) \\sim \\mathcal{N}(\\mu, \\sigma^2)\\).\nIf we simply maximize \\(U\\), then we will not donate money every year. So instead, we maximize $$U_{\\text{risk-averse}} = \\sum_{t=1}^T I(t)\\ d_t - \\gamma \\cdot \\sigma^2 \\sum_{t=1}^T d_t^2$$ where \\(\\gamma\\) is a constant. This measure takes into account the variance of the utility.\nRecalling we have the constraint $$\\sum_{t=1}^T p^{T-t} \\ d_t = k,$$ in order to maximize \\(U_{\\text{risk-averse}}\\), we write the Lagrangian $$\\mathcal{L} =\\sum_{t=1}^T I(t)\\ d_t - \\gamma \\cdot \\sigma^2 \\sum_{t=1}^T d_t^2 + \\lambda \\left( k - \\sum_{t=1}^T p^{T-t} \\ d_t \\right)$$\nThen we calculate the partial derivatives and set them to zero: $$\\frac{\\partial \\mathcal{L}}{\\partial d_t} = I(t) - 2 \\gamma \\ \\sigma^2 \\ d_t - \\lambda \\ p^{T-t} = 0$$\nSolving for \\(d_t\\), we get $$d_t = \\frac{I(t) - \\lambda \\ p^{T-t}}{2 \\gamma \\ \\sigma^2}$$\nWe then solve for \\(\\lambda\\) by substituting the expression for \\(d_t\\) into the constraint $$\\sum_{t=1}^T p^{T-t} \\ \\frac{I(t) - \\lambda \\ p^{T-t}}{2 \\gamma \\ \\sigma^2} = k,$$ which simplifies to $$\\lambda = \\frac{\\sum_{t=1}^T p^{T-t} \\ I(t) - 2 \\gamma \\ \\sigma^2 \\ k}{\\sum_{t=1}^T p^{2(T-t)}}$$\nNow we have an expression for \\(d_t\\) in terms of the input variables! We can simulate some impact functions and test what the results of this method are.\nRisk averse calculator Initial portfolio value (V₀): $1000000 1K 1M Time horizon (T years): 10 1 50 Annual portfolio growth rate (p%): 8% 0% 30% Annual income minus expenses (iₜ): $0 0 500K Desired wealth at horizon (Y): $1000000 0 3M Risk aversion parameter (γ): 0.5 0 1 Impact standard deviation (σ): 0.5 0 1 Impact in the first period (I(1)): 0.65 0 1 # Simulations: 5 1 100 First year donation: 0 Conclusion In this article, we have looked at three frameworks for deciding how much to donate based on a changing portfolio:\nFixed percentage of portfolio or income each year based on religious rules. Fixed percentage of portfolio each year based on desired portfolio value after \\(T\\) years. Varying percentage of portfolio each year based on impact-weighted model. These models have different degrees of complexity and parameters. Hopefully by thinking about these models and looking at simulations, we can be more intentional about giving.\n",
  "wordCount" : "1550",
  "inLanguage": "en",
  "datePublished": "2024-12-23T00:00:00Z",
  "dateModified": "2024-12-23T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Lucas Pauker"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://lucaspauker.com/articles/charity-calculator/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Lucas Pauker",
    "logo": {
      "@type": "ImageObject",
      "url": "https://lucaspauker.com/images/logo/favicon.ico"
    }
  }
}
</script><script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>


</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://lucaspauker.com/" accesskey="h" title="Lucas Pauker (Alt + H)"></a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://lucaspauker.com/" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="https://lucaspauker.com/about" title="About me">
                    <span>About me</span>
                </a>
            </li>
            <li>
                <a href="https://lucaspauker.com/projects" title="Projects">
                    <span>Projects</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://lucaspauker.com/">Home</a>&nbsp;»&nbsp;<a href="https://lucaspauker.com/articles/">Articles</a></div>
    <h1 class="post-title entry-hint-parent">
      Charity Calculator
    </h1>
    <div class="post-meta"><span title='2024-12-23 00:00:00 +0000 UTC'>December 23, 2024</span>&nbsp;·&nbsp;8 min&nbsp;·&nbsp;Lucas Pauker

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#existing-frameworks-for-charitable-giving" aria-label="Existing frameworks for charitable giving">Existing frameworks for charitable giving</a><ul>
                        
                <li>
                    <a href="#" aria-label="Constant percentage calculator">Constant percentage calculator</a></li></ul>
                </li>
                <li>
                    <a href="#framework-for-optimizing-donations" aria-label="Framework for optimizing donations">Framework for optimizing donations</a><ul>
                        
                <li>
                    <a href="#input-variables" aria-label="Input variables">Input variables</a></li>
                <li>
                    <a href="#output-variable" aria-label="Output variable">Output variable</a></li>
                <li>
                    <a href="#building-the-framework" aria-label="Building the framework">Building the framework</a></li>
                <li>
                    <a href="#constant-percentage-donations" aria-label="Constant percentage donations">Constant percentage donations</a></li>
                <li>
                    <a href="#" aria-label="Optimal percentage calculator">Optimal percentage calculator</a></li>
                <li>
                    <a href="#including-impact" aria-label="Including impact">Including impact</a></li>
                <li>
                    <a href="#" aria-label="Risk averse calculator">Risk averse calculator</a></li></ul>
                </li>
                <li>
                    <a href="#conclusion" aria-label="Conclusion">Conclusion</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
    body { font-family: Arial, sans-serif; margin: 40px; }
    .widget-title { text-align: center; }
    .slider-container { margin-bottom: 20px; display: flex; }
    label { display: block; margin-bottom: 5px; margin-left: 16px; font-weight: bold; }
    input[type="range"] { width: 80%; display: inline-block; }
    span { display: inline-block; min-width: 60px; text-align: center; }
    .output { margin-top: 20px; text-align: center; color: black; }
    .chart-container { overflow-x: auto; width: 100%; }
    canvas { margin-top: 20px; border: 1px solid #ddd; width: 100%; }
    .widget-container-outer { width: 100%; border: 1px solid lightgrey; border-radius: 16px; margin: 64px 0px; box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px; }
    .widget-container-inner { margin: 32px; }
</style>
<p>With holiday season in full swing, people may be more enticed to give to charity. However, there is a question of how to optimize your charitable donations. Specifically, I would like to optimize charitable donations for maximum impact. It seems to me that there are two parts to this equation:</p>
<ol>
<li>Which charity(ies)/cause(s) should I give to</li>
<li>How much should I give?</li>
</ol>
<p>The answer to the first question is deeply personal, so I want to focus on the second question. A naive answer to this question might be to donate as much as you can. However, this actually might not be the right choice if you believe you can compound your money and donate more in the future. The other extreme is to compound your money until you die and donate it all then. However, there are people that need help now so this seems like a bad solution as well.</p>
<p>I want to create a framework for deciding how much to give each year (based on some intuitive parameters).</p>
<h2 id="existing-frameworks-for-charitable-giving">Existing frameworks for charitable giving<a hidden class="anchor" aria-hidden="true" href="#existing-frameworks-for-charitable-giving">#</a></h2>
<p>Before diving into my framework, it is interesting to review some existing approaches to charitable giving, many of which are grounded in religious traditions.</p>
<p>In Jewish tradition, giving to charity, or <em>tzedakah</em>, is a core principle. The Torah emphasizes the importance of helping those in need, and many interpretations suggest donating approximately 10% of one’s income. This practice is often referred to as <em>ma&rsquo;aser kesafim</em> (giving a tenth).</p>
<p>In Islam, <em>Zakat</em> is one of the Five Pillars, making charitable giving a fundamental religious duty. Muslims are generally required to donate 2.5% of their accumulated wealth (beyond basic needs) each year.</p>
<p>While these frameworks provide clear guidelines, they tend to use a fixed percentage of wealth or income. This approach, while simple and effective, may overlook important considerations such as individual financial circumstances, the diminishing marginal utility of wealth, and the impact of time on charitable effectiveness.</p>
<p>Here is a simulation of donating a fixed percentage of a portfolio that grows at a fixed rate plus income.</p>
<div class="widget-container-outer">
<div class="widget-container-inner">
<h3 class="widget-title">Constant percentage calculator</h3>
<label>Initial Portfolio Value (V₀): $<span id="av0-value">1000000</span></label>
<div class="slider-container">
    <span>1K</span>
    <input type="range" id="av0" min="1000" max="1000000" step="1000" value="1000000" oninput="updateDonationsA()">
    <span>1M</span>
</div>
<label>Annual Portfolio Growth Rate (p%): <span id="ap-value">8</span>%</label>
<div class="slider-container">
    <span>0%</span>
    <input type="range" id="ap" min="0" max="30" step="0.1" value="8" oninput="updateDonationsA()">
    <span>30%</span>
</div>
<label>Annual Income Minus Expenses (iₜ): $<span id="ait-value">0</span></label>
<div class="slider-container">
    <span>0</span>
    <input type="range" id="ait" min="0" max="1000000" step="1000" value="0" oninput="updateDonationsA()">
    <span>1M</span>
</div>
<label>% Donated: <span id="adonated-value">5</span></label>
<div class="slider-container">
    <span>0</span>
    <input type="range" id="adonated" min="0" max="100" step="1" value="5" oninput="updateDonationsA()">
    <span>100</span>
</div>
<div class="achart-container">
    <canvas id="achart"></canvas>
</div>
</div>
</div>
<script>
let chartInstanceA = null;

function updateDonationsA() {
    const V0 = parseFloat(document.getElementById('av0').value);
    const p = parseFloat(document.getElementById('ap').value) / 100;
    const d = parseFloat(document.getElementById('adonated').value) / 100;
    const it = parseFloat(document.getElementById('ait').value);

    document.getElementById('av0-value').innerText = V0.toLocaleString();
    document.getElementById('ap-value').innerText = (p * 100).toFixed(1);
    document.getElementById('adonated-value').innerText = (d * 100).toFixed(0);
    document.getElementById('ait-value').innerText = it.toLocaleString();

    let portfolio = V0;
    let donations = [];
    let totalDonation = 0;

    donations.push({ year: 0, donation: 0, portfolio: portfolio });
    for (let t = 1; t <= 10; t++) {
        const donation = portfolio * d;
        portfolio = portfolio * (1 + p) + it - donation;
        totalDonation += donation;
        donations.push({ year: t, donation: totalDonation, portfolio: portfolio });
    }

    updateChartA(donations);
}

function updateChartA(data) {
    const years = data.map(d => d.year);
    const portfolioValues = data.map(d => d.portfolio);
    const donations = data.map(d => d.donation);

    if (chartInstanceA) {
        chartInstanceA.data.labels = years;
        chartInstanceA.data.datasets[0].data = portfolioValues;
        chartInstanceA.data.datasets[1].data = donations;
        chartInstanceA.update();
    } else {
        const ctx = document.getElementById('achart').getContext('2d');
        chartInstanceA = new Chart(ctx, {
            type: 'line',
            data: {
                labels: years,
                datasets: [{
                    label: 'Portfolio Value',
                    data: portfolioValues,
                    borderColor: '#007BFF',
                    borderWidth: 2,
                    fill: false,
                    tension: 0.4
                }, {
                    label: 'Total Donated',
                    data: donations,
                    borderColor: '#28A745',
                    borderWidth: 2,
                    fill: false,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: 'Year'
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'Amount ($)'
                        },
                        beginAtZero: false
                    }
                },
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    tooltip: {
                        mode: 'index',
                        intersect: false
                    }
                }
            }
        });
    }
}

document.addEventListener('DOMContentLoaded', updateDonationsA);
</script>
<h2 id="framework-for-optimizing-donations">Framework for optimizing donations<a hidden class="anchor" aria-hidden="true" href="#framework-for-optimizing-donations">#</a></h2>
<p>Now we will build up a framework for understanding first how a portfolio evolves with donations and then how varying impact of individual donations can change how much to donate.
The core idea of the framework is to balance immediate charitable impact with the future growth of wealth.</p>
<p><a href="#optimal-percentage-sim">Jump to simulation 1</a></p>
<p><a href="#risk-aversion-sim">Jump to simulation 2</a></p>
<h3 id="input-variables">Input variables<a hidden class="anchor" aria-hidden="true" href="#input-variables">#</a></h3>
<ul>
<li><strong>Current/initial portfolio value</strong>: \( V_0 \) (your starting wealth)</li>
<li><strong>Life expectancy</strong>: \( T \) years (remaining years you expect to live)</li>
<li><strong>Annual portfolio growth rate</strong>: \( p \) (as a percentage)</li>
<li><strong>Desired wealth at death</strong>: \( Y \) (how much you want to leave behind, e.g., for family or legacy purposes)</li>
<li><strong>Yearly net income</strong>: \( i_t \) (your income after expenses in year \( t \))</li>
<li><strong>Impact discount rate</strong>: \( d \) (percentage decrease in the effectiveness of charitable donations over time due to compounding issues like inflation, diminishing needs, etc.)</li>
<li><strong>Impact Function</strong>: \( I(t) \) (a function of time that determines the relative impact of donations in year \( t \); by definition, \( \sum_{t=1}^T I(t) = 1 \)</li>
</ul>
<h3 id="output-variable">Output variable<a hidden class="anchor" aria-hidden="true" href="#output-variable">#</a></h3>
<p>The yearly amount to donate: \( d_t \).</p>
<h3 id="building-the-framework">Building the framework<a hidden class="anchor" aria-hidden="true" href="#building-the-framework">#</a></h3>
<p>The model starts with the evolution of your wealth year over year. Here’s the basic equation:</p>
<p>$$V_t = p \ V_{t-1} + i_t - d_t$$</p>
<p>Where:</p>
<ul>
<li>\( V_t \) is your portfolio value at the end of year \( t \).</li>
<li>\( p \ V_{t-1} \) represents the growth of your wealth from investments.</li>
<li>\( i_t \) is your net income for year \( t \).</li>
<li>\( d_t \) is the amount you donate in year \( t \).</li>
</ul>
<p>We impose the terminal condition that you want to end with exactly your desired wealth \( Y \) at the end of your life (year \( T \)):</p>
<p>$$ V_T = Y $$</p>
<p>We can work recursively to express \( d_t \) as a function of the input variables. Expanding the wealth equation step by step:</p>
<ol>
<li>
<p>Starting with year 1:
$$ V_1 = p \ V_0 + i_1 - d_1 $$</p>
</li>
<li>
<p>For year 2:
$$ V_2 = p \ V_1 + i_2 - d_2 $$
Substitute \( V_1 \):
$$ V_2 = p \ (p \ V_0 + i_1 - d_1) + i_2 - d_2 $$</p>
</li>
</ol>
<p>Generalizing this, and using the terminal condition \( V_T = Y \), the portfolio value at year \( T \) becomes:</p>
<p>$$ V_T = Y = p^T \ V_0 + \sum_{t=1}^T p^{T-t} \ i_t - \sum_{t=1}^T p^{T-t} \ d_t $$</p>
<p>Rearranging for the summation of donations \( d_t \):
$$\sum_{t=1}^T p^{T-t} \ d_t = p^T \ V_0 + \sum_{t=1}^T p^{T-t} \ i_t - Y = k $$
where \(k\) is a constant.</p>
<p>Now, we have a constraint formula for donations as a function of the portfolio return rate, initial portfolio value, life expectancy, income, and desired end of life portfolio value.
Now, we want to see which \(d_t\) are available.
There are many \(d_t\) that satisfy the constraint above.
One such function is
$$
d_t =
\begin{cases}
0 &amp; \text{if } t &lt; T \\
p \ V_{T-1} + i_T - Y &amp; \text{if } t = T
\end{cases}
$$
This is just donating everything at the end of your life up to \(Y\).
This is the way to maximize the total amount donated over your lifetime, assuming income and portfolio returns are positive.
However, we do not necessarily want to do this because we want to balance the total amount donated with immediate impact.</p>
<h3 id="constant-percentage-donations">Constant percentage donations<a hidden class="anchor" aria-hidden="true" href="#constant-percentage-donations">#</a></h3>
<p>An intuitive way to determine donations is to use a constant percentage of our portfolio for donations.
So we have \(d_t=u \ V_t\) where \(u\) is the percent of our current portfolio to donate.
We can determine \(u\) using our constraint equation, so we get
$$\sum_{t=1}^T p^{T-t} \ d_t = \sum_{t=1}^T p^{T-t}\ u \ V_t = u\ \sum_{t=1}^T p^{T-t} \ V_t = k $$
so therefore
$$u = \frac{k}{ \sum_{t=1}^T p^{T-t} \ V_t} $$
and also
$$V_t = \frac{p \ V_{t-1} + i_t}{1+u}$$</p>
<p>We can numerically solve for \(u\) but finding a closed form is hard due to \(V_t\) dependence on \(u\).
Here is a simulation for finding the optimal fixed percentage based on the input variables.</p>
<div class="widget-container-outer" id="optimal-percentage-sim">
<div class="widget-container-inner">
<h3 class="widget-title">Optimal percentage calculator</h3>
<label>Initial portfolio value (V₀): $<span id="v0-value">1000000</span></label>
<div class="slider-container">
    <span>1K</span>
    <input type="range" id="v0" min="1000" max="1000000" step="1000" value="1000000" oninput="updateDonations()">
    <span>1M</span>
</div>
<label>Time horizon (T years): <span id="t-value">10</span></label>
<div class="slider-container">
    <span>1</span>
    <input type="range" id="t" min="1" max="50" step="1" value="10" oninput="updateDonations()">
    <span>50</span>
</div>
<label>Annual portfolio growth rate (p%): <span id="p-value">8</span>%</label>
<div class="slider-container">
    <span>0%</span>
    <input type="range" id="p" min="0" max="30" step="0.1" value="8" oninput="updateDonations()">
    <span>30%</span>
</div>
<label>Annual income minus expenses (iₜ): $<span id="it-value">0</span></label>
<div class="slider-container">
    <span>0</span>
    <input type="range" id="it" min="0" max="500000" step="1000" value="0" oninput="updateDonations()">
    <span>500K</span>
</div>
<label>Desired wealth at horizon (Y): $<span id="y-value">1000000</span></label>
<div class="slider-container">
    <span>0</span>
    <input type="range" id="y" min="0" max="3000000" step="1000" value="1000000" oninput="updateDonations()">
    <span>3M</span>
</div>
<div class="chart-container">
    <canvas id="chart"></canvas>
</div>
<h3 class="output">
    Optimal annual donation: <span id="donation-output">0</span>
</h3>
</div>
</div>
<script>
let chartInstance = null;

function updateDonations() {
    const V0 = parseFloat(document.getElementById('v0').value);
    const T = parseInt(document.getElementById('t').value);
    const p = parseFloat(document.getElementById('p').value) / 100;
    const Y = parseFloat(document.getElementById('y').value);
    const it = parseFloat(document.getElementById('it').value);

    document.getElementById('v0-value').innerText = V0.toLocaleString();
    document.getElementById('t-value').innerText = T;
    document.getElementById('p-value').innerText = (p * 100).toFixed(1);
    document.getElementById('y-value').innerText = Y.toLocaleString();
    document.getElementById('it-value').innerText = it.toLocaleString();

    function solveForU(V0, p, it, T, Y) {
        const tolerance = 1e-6;
        const maxIterations = 100;
        let uLow = 0;
        let uHigh = 1;
        let u = (uLow + uHigh) / 2;

        for (let iteration = 0; iteration < maxIterations; iteration++) {
            let portfolio = V0;

            for (let t = 1; t <= T; t++) {
                const donation = u * portfolio;
                portfolio = portfolio * (1 + p) + it - donation;
            }

            const difference = portfolio - Y;

            if (Math.abs(difference) < tolerance) {
                return u;
            }

            if (difference > 0) {
                uLow = u;
            } else {
                uHigh = u;
            }

            u = (uLow + uHigh) / 2;
        }

        return u;
    }

    const u = solveForU(V0, p, it, T, Y);

    let portfolio = V0;
    let donations = [];
    let totalDonation = 0;

    donations.push({ year: 0, donation: 0, portfolio: portfolio });
    for (let t = 1; t <= T; t++) {
        const donation = u * portfolio;
        portfolio = portfolio * (1 + p) + it - donation;
        totalDonation += donation;
        donations.push({ year: t, donation: totalDonation, portfolio: portfolio });
    }

    document.getElementById('donation-output').innerText = (u * 100).toFixed(2) + '%';

    updateChart(donations);
}

function updateChart(data) {
    const years = data.map(d => d.year);
    const portfolioValues = data.map(d => d.portfolio);
    const donations = data.map(d => d.donation);

    if (chartInstance) {
        chartInstance.data.labels = years;
        chartInstance.data.datasets[0].data = portfolioValues;
        chartInstance.data.datasets[1].data = donations;
        chartInstance.update();
    } else {
        const ctx = document.getElementById('chart').getContext('2d');
        chartInstance = new Chart(ctx, {
            type: 'line',
            data: {
                labels: years,
                datasets: [{
                    label: 'Portfolio Value',
                    data: portfolioValues,
                    borderColor: '#007BFF',
                    borderWidth: 2,
                    fill: false,
                    tension: 0.4
                }, {
                    label: 'Total Donated',
                    data: donations,
                    borderColor: '#28A745',
                    borderWidth: 2,
                    fill: false,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: 'Year'
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'Amount ($)'
                        },
                        beginAtZero: false
                    }
                },
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    tooltip: {
                        mode: 'index',
                        intersect: false
                    }
                }
            }
        });
    }
}

document.addEventListener('DOMContentLoaded', updateDonations);

</script>
<h3 id="including-impact">Including impact<a hidden class="anchor" aria-hidden="true" href="#including-impact">#</a></h3>
<p><a href="#risk-aversion-sim">Jump to simulation 2</a></p>
<p>In reality, however, the personal impact of donations changes from year to year.
This is because you would like to donate to causes that are important to you which can change.
We will therefore try to maximize the net impact
$$
U = \sum_{t=1}^T {I(t)\ d_t}
$$</p>
<p>If \(I(t)\) is stochastic, then we are trying to maximize the expectation of \(U\).
Let&rsquo;s assume that \(I(t) \sim \mathcal{N}(\mu, \sigma^2)\).</p>
<p>If we simply maximize \(U\), then we will not donate money every year.
So instead, we maximize
$$U_{\text{risk-averse}} = \sum_{t=1}^T I(t)\ d_t - \gamma \cdot \sigma^2 \sum_{t=1}^T d_t^2$$
where \(\gamma\) is a constant.
This measure takes into account the variance of the utility.</p>
<p>Recalling we have the constraint
$$\sum_{t=1}^T p^{T-t} \ d_t = k,$$
in order to maximize \(U_{\text{risk-averse}}\), we write the Lagrangian
$$\mathcal{L} =\sum_{t=1}^T  I(t)\ d_t - \gamma \cdot \sigma^2 \sum_{t=1}^T d_t^2 + \lambda \left( k - \sum_{t=1}^T p^{T-t} \ d_t \right)$$</p>
<p>Then we calculate the partial derivatives and set them to zero:
$$\frac{\partial \mathcal{L}}{\partial d_t} = I(t) - 2 \gamma \ \sigma^2 \ d_t - \lambda \ p^{T-t} = 0$$</p>
<p>Solving for \(d_t\), we get
$$d_t = \frac{I(t) - \lambda \ p^{T-t}}{2 \gamma \ \sigma^2}$$</p>
<p>We then solve for \(\lambda\) by substituting the expression for \(d_t\) into the constraint
$$\sum_{t=1}^T p^{T-t} \ \frac{I(t) - \lambda \ p^{T-t}}{2 \gamma \ \sigma^2} = k,$$
which simplifies to
$$\lambda = \frac{\sum_{t=1}^T p^{T-t} \ I(t) - 2 \gamma \ \sigma^2 \ k}{\sum_{t=1}^T p^{2(T-t)}}$$</p>
<p>Now we have an expression for \(d_t\) in terms of the input variables!
We can simulate some impact functions and test what the results of this method are.</p>
<div class="widget-container-outer" id="risk-aversion-sim">
<div class="widget-container-inner">
<h3 class="widget-title">Risk averse calculator</h3>
<label>Initial portfolio value (V₀): $<span id="v0-value-2">1000000</span></label>
<div class="slider-container">
    <span>1K</span>
    <input type="range" id="v0-2" min="1000" max="1000000" step="1000" value="1000000" oninput="updateDonations2()">
    <span>1M</span>
</div>
<label>Time horizon (T years): <span id="t-value-2">10</span></label>
<div class="slider-container">
    <span>1</span>
    <input type="range" id="t-2" min="1" max="50" step="1" value="10" oninput="updateDonations2()">
    <span>50</span>
</div>
<label>Annual portfolio growth rate (p%): <span id="p-value-2">8</span>%</label>
<div class="slider-container">
    <span>0%</span>
    <input type="range" id="p-2" min="0" max="30" step="0.1" value="8" oninput="updateDonations2()">
    <span>30%</span>
</div>
<label>Annual income minus expenses (iₜ): $<span id="it-value-2">0</span></label>
<div class="slider-container">
    <span>0</span>
    <input type="range" id="it-2" min="0" max="500000" step="1000" value="0" oninput="updateDonations2()">
    <span>500K</span>
</div>
<label>Desired wealth at horizon (Y): $<span id="y-value-2">1000000</span></label>
<div class="slider-container">
    <span>0</span>
    <input type="range" id="y-2" min="0" max="3000000" step="10000" value="1000000" oninput="updateDonations2()">
    <span>3M</span>
</div>
<label>Risk aversion parameter (γ): <span id="gamma-value-2">0.5</span></label>
<div class="slider-container">
    <span>0</span>
    <input type="range" id="gamma-2" min="0" max="1" step="0.01" value="0.5" oninput="updateDonations2()">
    <span>1</span>
</div>
<label>Impact standard deviation (σ): <span id="sigma-value-2">0.5</span></label>
<div class="slider-container">
    <span>0</span>
    <input type="range" id="sigma-2" min="0" max="1" step="0.01" value="0.5" oninput="updateDonations2()">
    <span>1</span>
</div>
<label>Impact in the first period (I(1)): <span id="i1-value-2">0.65</span></label>
<div class="slider-container">
    <span>0</span>
    <input type="range" id="i1-2" min="0" max="1" step="0.01" value="0.65" oninput="updateDonations2()">
    <span>1</span>
</div>
<label># Simulations: <span id="n-sims-value-2">5</span></label>
<div class="slider-container">
    <span>1</span>
    <input type="range" id="n-sims-2" min="1" max="100" step="1" value="5" oninput="updateDonations2()">
    <span>100</span>
</div>
<div class="chart-container">
    <canvas id="chart-2"></canvas>
</div>
<h3 class="output">
    First year donation: <span id="donation-output-2">0</span>
</h3>
</div>
</div>
<script>
let chartInstance2 = null;

function calculateDonations2(V0, p, it, T, Y, gamma, sigma, I1, mu, numSimulations) {
    gamma = gamma * 0.00005;
    const epsilon = 1e-6;

    // Helper function to generate a random normal variable
    function randomNormal(mean, stdDev) {
        let u = 1 - Math.random(); // Uniform(0,1) random number
        let v = 1 - Math.random();
        let z = Math.sqrt(-2.0 * Math.log(u)) * Math.cos(2.0 * Math.PI * v); // Box-Muller transform
        return z * stdDev + mean;
    }

    // Precompute terms that don't depend on t
    const portfolioTerm = Math.pow(p, T) * V0;
    const summationTerm = (Math.abs(p - 1) < epsilon) ? T : (1 - Math.pow(p, T)) / (1 - p);
    const partialSummationTerm = summationTerm - Math.pow(p, T - 1);
    const squaredSummationTerm = (Math.abs(p * p - 1) < epsilon)
        ? T
        : (1 - Math.pow(p * p, T)) / (1 - p * p);
    const incomeTerm = it * summationTerm;
    const k = portfolioTerm + incomeTerm - Y;
    const alpha = I1 * Math.pow(p, T - 1) + partialSummationTerm * mu;
    const lambda = (alpha - (2 * gamma * (sigma ** 2) * k)) / squaredSummationTerm;

    // Initialize arrays to store cumulative results
    let totalDonations = Array(T).fill(0);
    let totalPortfolioValues = Array(T).fill(0);
    let totalDonationAmounts = Array(T).fill(0);

    // Run simulations
    for (let sim = 0; sim < numSimulations; sim++) {
        let portfolio = V0;
        let portfolioValues = [];
        let donations = [];
        let totalDonationAmount = 0;

        for (let t = 1; t <= T; t++) {
            let I_t = t === 1 ? I1 : randomNormal(mu, sigma); // Adjusted for variable sigma
            let donation = Math.max(
                Math.min((I_t - lambda * Math.pow(p, T - t)) / (2 * gamma * (sigma ** 2)), portfolio),
                0
            );

            donations.push(donation);
            portfolio = portfolio * p + it - donation;

            totalDonationAmount += donation;
            portfolioValues.push(portfolio);

            // Accumulate results for averaging
            totalDonations[t - 1] += donation;
            totalPortfolioValues[t - 1] += portfolio;
            totalDonationAmounts[t - 1] += totalDonationAmount;
        }
    }

    // Compute averages
    const avgDonations = totalDonations.map(d => d / numSimulations);
    const avgPortfolioValues = totalPortfolioValues.map(v => v / numSimulations);
    const avgDonationAmounts = totalDonationAmounts.map(d => d / numSimulations);

    return [ avgDonations[0], avgDonations, avgPortfolioValues, avgDonationAmounts ];
}

function updateDonations2() {
    const V0 = parseFloat(document.getElementById('v0-2').value);
    const T = parseInt(document.getElementById('t-2').value);
    const p = parseFloat(document.getElementById('p-2').value) / 100 + 1;
    const Y = parseFloat(document.getElementById('y-2').value);
    const it = parseFloat(document.getElementById('it-2').value);
    const gamma = parseFloat(document.getElementById('gamma-2').value);
    const sigma = parseFloat(document.getElementById('sigma-2').value);
    const I1 = parseFloat(document.getElementById('i1-2').value);
    const numSimulations = parseFloat(document.getElementById('n-sims-2').value);
    const mu = 0.5;

    document.getElementById('v0-value-2').innerText = V0.toLocaleString();
    document.getElementById('t-value-2').innerText = T;
    document.getElementById('p-value-2').innerText = (p * 100 - 100).toFixed(1);
    document.getElementById('y-value-2').innerText = Y.toLocaleString();
    document.getElementById('it-value-2').innerText = it.toLocaleString();
    document.getElementById('gamma-value-2').innerText = gamma.toLocaleString();
    document.getElementById('sigma-value-2').innerText = sigma.toLocaleString();
    document.getElementById('i1-value-2').innerText = I1.toLocaleString();
    document.getElementById('n-sims-value-2').innerText = numSimulations;

    const [
        d1,
        donations,
        portfolioValues,
        totalDonated
    ] = calculateDonations2(V0, p, it, T, Y, gamma, sigma, I1, mu, numSimulations);

    document.getElementById('donation-output-2').innerText = '$' + donations[0].toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });

    updateChart2(portfolioValues, totalDonated, T);
}

function updateChart2(portfolioValues, totalDonated, T) {
    const years = Array.from({ length: T }, (_, t) => t + 1);

    if (chartInstance2) {
        chartInstance2.data.labels = years;
        chartInstance2.data.datasets[0].data = portfolioValues;
        chartInstance2.data.datasets[1].data = totalDonated;
        chartInstance2.update();
    } else {
        const ctx = document.getElementById('chart-2').getContext('2d');
        chartInstance2 = new Chart(ctx, {
            type: 'line',
            data: {
                labels: years,
                datasets: [{
                    label: 'Portfolio Value',
                    data: portfolioValues,
                    borderColor: '#007BFF',
                    borderWidth: 2,
                    fill: false,
                    tension: 0.4
                }, {
                    label: 'Total Donated',
                    data: totalDonated,
                    borderColor: '#28A745',
                    borderWidth: 2,
                    fill: false,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: 'Year'
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'Amount ($)'
                        },
                        beginAtZero: false
                    }
                },
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    tooltip: {
                        mode: 'index',
                        intersect: false
                    }
                }
            }
        });
    }
}

document.addEventListener('DOMContentLoaded', updateDonations2);

</script>
<h2 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">#</a></h2>
<p>In this article, we have looked at three frameworks for deciding how much to donate based on a changing portfolio:</p>
<ol>
<li>Fixed percentage of portfolio or income each year based on religious rules.</li>
<li>Fixed percentage of portfolio each year based on desired portfolio value after \(T\) years.</li>
<li>Varying percentage of portfolio each year based on impact-weighted model.</li>
</ol>
<p>These models have different degrees of complexity and parameters.
Hopefully by thinking about these models and looking at simulations, we can be more intentional about giving.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://lucaspauker.com/tags/charity/">Charity</a></li>
      <li><a href="https://lucaspauker.com/tags/modeling/">Modeling</a></li>
    </ul>
    <script src="https://utteranc.es/client.js"
        repo="lucaspauker/lucaspauker.com"
        issue-term="url"
        theme="github-light"
        crossorigin="anonymous"
        async>
    </script>
<nav class="paginav">
  <a class="prev" href="https://lucaspauker.com/articles/gambling-rationality/">
    <span class="title">« Prev</span>
    <br>
    <span>Why Gambling is (more) Rational (than you think)</span>
  </a>
  <a class="next" href="https://lucaspauker.com/articles/home-run-modeling/">
    <span class="title">Next »</span>
    <br>
    <span>Home Run Modeling</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Charity Calculator on x"
            href="https://x.com/intent/tweet/?text=Charity%20Calculator&amp;url=https%3a%2f%2flucaspauker.com%2farticles%2fcharity-calculator%2f&amp;hashtags=charity%2cmodeling">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Charity Calculator on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2flucaspauker.com%2farticles%2fcharity-calculator%2f&amp;title=Charity%20Calculator&amp;summary=Charity%20Calculator&amp;source=https%3a%2f%2flucaspauker.com%2farticles%2fcharity-calculator%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Charity Calculator on reddit"
            href="https://reddit.com/submit?url=https%3a%2f%2flucaspauker.com%2farticles%2fcharity-calculator%2f&title=Charity%20Calculator">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Charity Calculator on facebook"
            href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2flucaspauker.com%2farticles%2fcharity-calculator%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Charity Calculator on whatsapp"
            href="https://api.whatsapp.com/send?text=Charity%20Calculator%20-%20https%3a%2f%2flucaspauker.com%2farticles%2fcharity-calculator%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Charity Calculator on telegram"
            href="https://telegram.me/share/url?text=Charity%20Calculator&amp;url=https%3a%2f%2flucaspauker.com%2farticles%2fcharity-calculator%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Charity Calculator on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=Charity%20Calculator&u=https%3a%2f%2flucaspauker.com%2farticles%2fcharity-calculator%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2025 <a href="https://lucaspauker.com/">Lucas Pauker</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
